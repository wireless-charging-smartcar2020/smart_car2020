C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE LCD12864_215Z
OBJECT MODULE PLACED IN .\Objects\lcd12864-215Z.obj
COMPILER INVOKED BY: F:\MDK5.21A\C51\BIN\C51.EXE C:\Users\16242\Desktop\总215C新款模块IIC接口215Z\lcd12864-215Z.c OPTIMI
                    -ZE(8,SPEED) BROWSE INCDIR(..\timing_charge) DEBUG OBJECTEXTEND PRINT(.\Listings\lcd12864-215Z.lst) TABS(2) OBJECT(.\Obje
                    -cts\lcd12864-215Z.obj)

line level    source

   1          //驱动 IC:UC1701  
   2          //点阵数:128*64 
   3          #include <reg52.h> 
   4          #include <intrins.h> 
   5          #include <Ctype.h>
   6           
   7          #define uchar   unsigned char 
   8          #define uint   unsigned int 
   9          #define ulong   unsigned long 
  10          
  11          //sbit key=P2^0;
  12          
  13          sbit CSA=P2^5;    //L 有效,字库片选
  14          sbit CSB=P2^6;    //L 有效,屏片选
  15          sbit RST=P2^7;    //L 有效,屏复位 
  16          sbit A0=P4^1;   //L:command; H:data,命令/数据 
  17          sbit SCK =P0^7;//时钟   
  18          sbit SI=P0^5;//数据输入 
  19          sbit SO =P0^6;//数据输出 
  20          sbit BL=P0^4;   //L 有效,背光控制 
  21          
  22          char code jin[]={
  23          /*--  Chinese: zhuang  --*/
  24          /*--  Font:song,12,W*H=16x16   --*/
  25          0x80,0x80,0x40,0x20,0x50,0x48,0x44,0xC3,0x44,0x48,0x50,0x20,0x40,0x80,0x80,0x00,
  26          0x40,0x40,0x42,0x4A,0x72,0x42,0x42,0x7F,0x42,0x42,0x62,0x5A,0x42,0x40,0x40,0x00};/*"金",0*/
  27          
  28          char code yi[]={
  29          
  30          0x40,0x42,0xCC,0x00,0x20,0xF0,0x28,0x27,0x24,0xE4,0x34,0x2C,0x20,0xE0,0x00,0x00,
  31          0x80,0x40,0x3F,0x40,0x80,0xA1,0x91,0x8D,0x83,0x81,0x9F,0xA5,0xA9,0xA1,0xB8,0x00};/*"逸",1*/
  32          
  33          char code chen[]={
  34          
  35          0x00,0x00,0xC0,0x5F,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x5F,0x40,0x40,0x00,0x00,
  36          0x80,0x60,0x1F,0x04,0xFD,0x85,0x45,0x0D,0x15,0x25,0x25,0x55,0x4D,0x84,0x84,0x00};/*"晨",2*/
  37          
  38          char code dian[]={
  39          
  40          0x00,0x00,0xF8,0x88,0x88,0x88,0x88,0xFF,0x88,0x88,0x88,0x88,0xF8,0x00,0x00,0x00,
  41          0x00,0x00,0x1F,0x08,0x08,0x08,0x08,0x7F,0x88,0x88,0x88,0x88,0x9F,0x80,0xF0,0x00};/*"电",3*/
  42          
  43          char code zi[]={
  44          
  45          0x80,0x82,0x82,0x82,0x82,0x82,0x82,0xE2,0xA2,0x92,0x8A,0x86,0x82,0x80,0x80,0x00,
  46          0x00,0x00,0x00,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};/*"子",4*/
  47          
  48          char code ke[]={
  49          
  50          0x24,0x24,0xA4,0xFE,0xA3,0x22,0x00,0x22,0xCC,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,
  51          0x08,0x06,0x01,0xFF,0x00,0x01,0x04,0x04,0x04,0x04,0x04,0xFF,0x02,0x02,0x02,0x00};/*"科",5*/
  52          
  53          char code ji[]={
C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 2   

  54          
  55          0x10,0x10,0x10,0xFF,0x10,0x90,0x08,0x88,0x88,0x88,0xFF,0x88,0x88,0x88,0x08,0x00,
  56          0x04,0x44,0x82,0x7F,0x01,0x80,0x80,0x40,0x43,0x2C,0x10,0x28,0x46,0x81,0x80,0x00};/*"技",6*/
  57          
  58          char code huan[]={
  59          
  60          0x04,0x24,0x44,0x84,0x64,0x9C,0x40,0x30,0x0F,0xC8,0x08,0x08,0x28,0x18,0x00,0x00,
  61          0x10,0x08,0x06,0x01,0x82,0x4C,0x20,0x18,0x06,0x01,0x06,0x18,0x20,0x40,0x80,0x00};/*"欢",7*/
  62          
  63          char code ying[]={
  64          
  65          0x40,0x40,0x42,0xCC,0x00,0x00,0xFC,0x04,0x02,0x00,0xFC,0x04,0x04,0xFC,0x00,0x00,
  66          0x00,0x40,0x20,0x1F,0x20,0x40,0x4F,0x44,0x42,0x40,0x7F,0x42,0x44,0x43,0x40,0x00};/*"迎",8*/
  67          
  68          char code ni[]={
  69          
  70          0x00,0x80,0x60,0xF8,0x07,0x40,0x20,0x18,0x0F,0x08,0xC8,0x08,0x08,0x28,0x18,0x00,
  71          0x01,0x00,0x00,0xFF,0x00,0x10,0x0C,0x03,0x40,0x80,0x7F,0x00,0x01,0x06,0x18,0x00};/*"你",9*/
  72          
  73          char code gangtan[]={
  74          
  75          0x00,0x00,0x00,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  76          0x00,0x00,0x00,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};/*"！",10*/
  77          
  78          /*
  79          char code mao_hao[]={
  80          
  81          0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00};
  82          
  83          char code num0[]={
  84          
  85          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00
  86          };
  87          char code num1[]={
  88          
  89          0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00
  90          };
  91          char code num2[]={
  92          
  93          0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00
  94          };
  95          char code num3[]={
  96          
  97          0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00
  98          };
  99          char code num4[]={
 100          
 101          0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00
 102          };
 103          
 104          char code num5[]={
 105          
 106          0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00
 107          };
 108          
 109          char code num6[]={
 110          
 111          0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00
 112          };
 113          char code num7[]={
 114          
 115          0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00
C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 3   

 116          };
 117          char code num8[]={
 118          
 119          0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00
 120          };
 121          
 122          char code num9[]={
 123          
 124          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00
 125          };
 126          */ 
 127          
 128          uchar code tab2[]={ 
 129          //--图像gyc,  宽度x高度=128x64  --//
 130          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 131          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xC0,
 132          0xE0,0xE0,0xF0,0xF0,0xF0,0xF8,0xF8,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0x7C,0x7C,0x3C,
 133          0x1C,0x1C,0x1C,0x1C,0x1E,0x1E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,
 134          0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0C,0x0C,0x0C,0x0C,0x1C,0x1C,
 135          0x1C,0x1C,0x18,0x18,0x38,0x30,0x30,0x30,0x70,0x60,0x60,0xE0,0xE0,0xC0,0xC0,0xC0,
 136          0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 137          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 138          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
 139          0xC0,0xE0,0xE0,0xF0,0x78,0x78,0x3C,0x1C,0x0E,0x0E,0x07,0x07,0x03,0x01,0x01,0x00,
 140          0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,
 141          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 142          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0xC0,0xC0,0xC0,
 143          0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC1,0xC1,
 144          0xC3,0xC3,0xC3,0xC7,0xC6,0xCE,0xCC,0xDC,0xB8,0xF0,0xF0,0xE0,0xC0,0x80,0x00,0x00,
 145          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 146          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0xFC,0xFF,0xFF,
 147          0x0F,0x0F,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 148          0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x18,0x38,0x78,
 149          0xF8,0xF8,0xF8,0xF8,0xF8,0xC8,0x88,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0xE0,
 150          0xF0,0xF8,0xF8,0xFC,0xFE,0xFE,0xFF,0x1F,0x0F,0x0F,0x0F,0x0B,0x1B,0x99,0xD8,0xF8,
 151          0xF8,0x78,0x38,0x18,0x18,0x18,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
 152          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x03,0x0F,0xFF,0xFE,
 153          0xF8,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 154          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0F,0x3F,0xFF,0xFF,
 155          0xF0,0xC0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 156          0x00,0x80,0x80,0x80,0x80,0xC0,0xFF,0xFF,0xFF,0xFF,0x7F,0x1F,0x03,0x00,0x00,0x00,
 157          0x00,0x01,0x01,0x03,0x07,0x0F,0x1F,0x3F,0x3E,0x7C,0xF8,0xF8,0xF0,0xE0,0xC0,0x81,
 158          0x03,0x07,0x8F,0xCF,0xDF,0xFF,0xFF,0x7C,0x7C,0x7C,0x7C,0x7E,0x6F,0x67,0x63,0x61,
 159          0xE0,0xE0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,
 160          0xC0,0xC0,0xE0,0xE0,0xE0,0x60,0x60,0x60,0x60,0x60,0xF0,0xF0,0xE8,0xF8,0xFF,0xFF,
 161          0x1F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 162          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,
 163          0x03,0x07,0x07,0x0F,0x1F,0x1E,0x3C,0x7B,0x7B,0x77,0xF7,0xE7,0xC6,0xC6,0xC7,0x87,
 164          0x83,0x83,0x03,0x03,0x03,0x03,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 165          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0xFF,0xFF,0xFF,
 166          0xFF,0xFF,0xFF,0x03,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 167          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,
 168          0xC0,0xC0,0xE0,0xE0,0xF0,0xF0,0x78,0x7C,0x3E,0x3F,0x1F,0x0F,0x07,0x03,0x01,0x00,
 169          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 170          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 171          0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x01,0x03,0x03,0x07,
 172          0x07,0x07,0x0F,0x0F,0x0F,0x1E,0x1E,0x1E,0x1E,0x1C,0x1C,0x1C,0x1C,0x38,0x38,0x38,
 173          0x78,0x78,0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x70,0x7F,0x7F,0x7F,
 174          0x7F,0x7F,0x7F,0x78,0x78,0x78,0x78,0x78,0x78,0x78,0x78,0x38,0x38,0x38,0x38,0x38,
 175          0x38,0x38,0x38,0x3C,0x3C,0x1C,0x1C,0x0C,0x0E,0x0E,0x0E,0x07,0x07,0x07,0x07,0x03,
 176          0x03,0x01,0x01,0x01,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,
 177          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 4   

 178          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0xE0,
 179          0x70,0x38,0x38,0xBC,0xEE,0xF7,0xF7,0xF3,0xF3,0xF7,0xF6,0xA4,0x8C,0x0C,0x18,0x18,
 180          0x30,0x30,0x30,0x60,0x60,0x60,0x60,0x60,0xC0,0xC0,0xC0,0xC0,0x80,0x00,0x00,0x00,
 181          0x00,0x60,0xE0,0xC0,0xDC,0xDC,0xCC,0xC8,0x08,0x00,0x00,0x20,0xE0,0xE4,0xE6,0xB7,
 182          0xB7,0xFB,0xFB,0xFF,0xDE,0xD6,0x74,0xF0,0xF0,0x10,0x00,0x00,0x00,0x00,0x00,0x00,
 183          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x46,
 184          0x4C,0xDC,0xFE,0x78,0x3D,0xFD,0xBF,0xFF,0xFF,0xFA,0xF8,0xBF,0x1F,0x1F,0x07,0x02,
 185          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 186          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x06,0x03,0x03,0x01,0x00,0x00,
 187          0x20,0x20,0x2F,0x2F,0x3D,0x35,0x31,0x3F,0x3F,0x3F,0x3C,0x36,0x36,0x32,0x32,0x30,
 188          0x30,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 189          0x00,0x00,0x08,0x08,0x0B,0x0B,0x0E,0x0E,0x1C,0x18,0x18,0x1C,0x1C,0x1F,0x1B,0x1B,
 190          0x11,0x30,0x37,0x37,0x35,0x34,0x34,0x37,0x37,0x35,0x34,0x34,0x34,0x30,0x30,0x30,
 191          0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x70,0x30,0x38,0x1C,0x0C,0x0E,0x07,
 192          0x03,0x01,0x19,0x3E,0x7E,0x67,0x67,0x67,0x25,0x35,0x14,0x0C,0x0E,0x1F,0x1F,0x1B,
 193          0x38,0x38,0x30,0x30,0x30,0x30,0x30,0x30,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,}; 
 194          
 195          
 196          uchar code nihao[]={
 197          0xFF,0x3F,0x1F,0x0F,0x07,0x03,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
 198          0x01,0x01,0x01,0x01,0xE1,0xE1,0xE1,0xE1,0xE1,0xE1,0xC1,0x01,0x01,0x01,0x01,0x01,
 199          0x01,0x01,0xC1,0xE1,0xE1,0xE1,0xE1,0xE1,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
 200          0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
 201          0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x81,0x81,
 202          0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
 203          0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
 204          0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x03,0x07,0x0F,0x1F,0x3F,0x7F,0xFF,
 205          0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,
 206          0xE0,0xF8,0xFC,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x1F,0x0F,0x07,0x00,0x00,0x80,0xF0,
 207          0xFC,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xE7,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,
 208          0xE0,0xE0,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0x00,0x00,0x80,
 209          0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,
 210          0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xF0,
 211          0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xFC,0xFC,0xFC,0xFC,
 212          0xFC,0xFC,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
 213          0xFF,0x00,0x00,0x00,0x00,0x00,0x60,0x70,0x78,0x78,0x7C,0x7C,0x3E,0x3F,0x3F,0x1F,
 214          0x1F,0x1F,0x1F,0x1F,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,0x00,0x00,0x04,0x06,0x07,0x07,
 215          0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0xFF,0xFF,0xFF,0xFF,0xFF,0x23,0x33,
 216          0x3B,0x3F,0x3F,0x3F,0x1F,0x0F,0x0F,0x07,0x07,0x03,0x03,0x01,0x00,0x00,0x00,0x07,
 217          0x0F,0x1F,0x1F,0x1F,0x1E,0x1E,0x1E,0x1E,0x1E,0x1E,0xDE,0xFE,0xFE,0xFF,0xFF,0xFF,
 218          0xFF,0x7F,0x1F,0x1F,0x1E,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0x1E,0x00,0x01,0x01,
 219          0x01,0x01,0x01,0x01,0x01,0xC1,0xC0,0xC0,0x7F,0x7F,0x3F,0x3F,0x1F,0x0F,0x07,0x07,
 220          0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
 221          0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 222          0x00,0x00,0x00,0xFE,0xFF,0xFF,0xFF,0xFF,0x3F,0x00,0x00,0x00,0x00,0xF0,0xF8,0xFC,
 223          0xFC,0xFC,0xFC,0xFC,0x7C,0x00,0x00,0x00,0xE0,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,
 224          0x00,0x0C,0x7C,0xF8,0xF8,0xF8,0xF8,0xF0,0xF0,0xF0,0xE0,0xC0,0xC0,0x00,0x00,0x00,
 225          0x00,0x00,0x00,0x00,0xC0,0xE0,0xF0,0xF8,0x7E,0x3F,0x1F,0x0F,0x0F,0x07,0x07,0x01,
 226          0x00,0x00,0xC0,0xF8,0xFE,0xFF,0xFF,0xFF,0xFF,0x3F,0x0F,0xE0,0xE0,0xE0,0xE0,0xE0,
 227          0xE0,0xE0,0xE0,0xE0,0xE0,0xE1,0xE3,0xEF,0xFF,0xFE,0xFE,0xF8,0xF0,0xE0,0xE0,0xE0,
 228          0xF0,0xF8,0xF8,0xF8,0xF8,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
 229          0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 230          0x00,0x00,0xFC,0xFF,0xFF,0xFF,0xFF,0x7F,0x00,0x00,0x00,0x00,0x00,0x03,0x03,0x03,
 231          0x03,0x03,0x01,0x00,0xF8,0xF8,0xF8,0xF8,0xFF,0xFF,0xFF,0xFF,0xFF,0x03,0x00,0x00,
 232          0x00,0x00,0x00,0x01,0x03,0xC3,0xC7,0xC7,0xC7,0x87,0x87,0x07,0x07,0x06,0x00,0x00,
 233          0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x07,0x0F,0x3E,0x3E,0x7C,0xFC,0xF8,0xF8,0xF0,
 234          0xFC,0xFE,0xFF,0xFF,0xFF,0x1F,0x07,0x03,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,
 235          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xFF,0xFF,0xFF,0x3F,0x00,0x00,0x00,
 236          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
 237          0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,
 238          0xF0,0xF0,0xF8,0x00,0x00,0x00,0x00,0x3C,0xFC,0xFC,0xFC,0xF0,0xE0,0xE0,0xC0,0x80,
 239          0x80,0x80,0x00,0x04,0x0C,0x7D,0x79,0x79,0x79,0x79,0x71,0x01,0x00,0x00,0x00,0x00,
C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 5   

 240          0xFC,0xF8,0xF8,0xC0,0x80,0x80,0x03,0x0F,0x1F,0x3F,0x3F,0x7F,0xFF,0xFF,0xFE,0x7C,
 241          0x00,0x40,0x60,0x60,0x70,0x70,0x78,0x78,0x3C,0x3E,0x1F,0x1F,0x1F,0x0F,0x0F,0x0F,
 242          0x07,0x0F,0x1F,0x3F,0x7F,0xFF,0xFE,0xFE,0xFC,0xF8,0xF8,0xF0,0xF0,0x80,0x00,0x00,
 243          0x30,0xE0,0xE0,0xC0,0xC0,0xC0,0xE0,0xFE,0xFF,0xFF,0x7F,0x0F,0x00,0x00,0x00,0x00,
 244          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
 245          0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x3F,0x3F,0x3F,0x1F,
 246          0x0F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x07,0x0F,0x0F,0x1F,0x1F,0x1F,
 247          0x3F,0x3F,0x3F,0x3F,0x3F,0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,
 248          0x3F,0x3F,0x3F,0x3F,0x1F,0x1F,0x1F,0x1F,0x1E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
 249          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 250          0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x07,0x07,0x07,0x03,0x03,0x00,0x00,
 251          0x00,0x01,0x0F,0x1F,0x3F,0x3F,0x3F,0x1F,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 252          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
 253          0xFF,0xFC,0xF8,0xF0,0xE0,0xC0,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 254          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 255          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 256          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 257          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 258          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 259          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 260          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xC0,0xE0,0xF0,0xF8,0xFC,0xFF};/*"未命名文件",0*/
 261          
 262          //..........延时 n 毫秒.......... 
 263          void delay_n_ms(uint ms) 
 264          { 
 265   1        uint i,j;   
 266   1        for(i=0;i<ms;i++)     
 267   1        for(j=0;j<20000;j++); 
 268   1      } 
 269          /*
 270          //wait a key, there is a key between P2.0 and GND in my mainboard
 271          void waitkey()
 272          {
 273          repeat: 
 274            if(key==1)goto repeat;
 275            else delay_n_ms(400);
 276          }
 277          */
 278          //..........串口写.......... 
 279          void serial_write(uchar lcm_cmd_or_data) 
 280          { 
 281   1        uchar i;    
 282   1        CSB=0;    
 283   1        for(i=0;i<8;i++) 
 284   1        {
 285   2        SCK=0;   
 286   2          if((lcm_cmd_or_data&0x80)==0x80)      
 287   2            SI=1;   
 288   2          else      
 289   2            SI=0;   
 290   2          SCK=0;  
 291   2          _nop_();   
 292   2          _nop_();    
 293   2          SCK=1;
 294   2          _nop_();
 295   2          SCK=0;  
 296   2          lcm_cmd_or_data=lcm_cmd_or_data<<1; 
 297   2      } 
 298   1        CSB=1; 
 299   1      } 
 300          //..........写命令.......... 
 301          void send_cmd(uchar lcm_cmd) 
C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 6   

 302          { 
 303   1        A0=0; 
 304   1        serial_write(lcm_cmd); 
 305   1      } 
 306          //..........写数据到 DDRAM.......... 
 307          void send_data(uchar lcm_data) 
 308          { 
 309   1        A0=1; 
 310   1        serial_write(lcm_data); 
 311   1      } 
 312          //..........写页地址.......... 
 313          void set_page_address(uchar page_addr) 
 314          { 
 315   1        send_cmd(page_addr|0xb0); 
 316   1      } 
 317          //..........写列地址.......... 
 318          void set_column_address(uchar clm_addr) 
 319          { 
 320   1        send_cmd((clm_addr>>4)|0x10);   //送列地址高四位 
 321   1        send_cmd(clm_addr&0x0f);    //送列地址低四位 
 322   1      } 
 323          
 324          
 325          //122
 326          //==================display a piture of 16*16 dots================
 327          void display_graphic_16x16(char page,char column,char *dp)
 328          {
 329   1        char i,j;
 330   1        for(j=0;j<2;j++)
 331   1        {
 332   2          //lcd_address(page+j,column);
 333   2          set_page_address(page+j);     
 334   2          set_column_address(column); 
 335   2          for (i=0;i<16;i++)
 336   2          { 
 337   3            send_data(*dp);   
 338   3            dp++;
 339   3          }
 340   2        }
 341   1      }
 342          /*
 343          //==================display a piture of 8*16 dots================
 344          void display_graphic_8x16(char page,char column,char *dp)
 345          {
 346            char i,j; 
 347            for(j=0;j<2;j++)
 348            {
 349              //lcd_address(page+j,column);
 350              set_page_address(page+j);     
 351              set_column_address(column); 
 352              for (i=0;i<8;i++)
 353              { 
 354                send_data(*dp);         
 355                dp++;
 356              }
 357            }
 358          }
 359          */
 360          //..........初始化.......... 
 361          void lcm_init(void) 
 362          { 
 363   1        delay_n_ms(3);  
C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 7   

 364   1        RST=0;    
 365   1        delay_n_ms(3);    
 366   1        RST=1;    
 367   1        delay_n_ms(6); 
 368   1        send_cmd(0xAE);
 369   1        send_cmd(0xE2);//Software reset
 370   1        send_cmd(0xa0); //0xA0左右镜像选择，0xA1正常显示  
 371   1        send_cmd(0xc8); //0xC0上下镜像选择，0xC8正常显示
 372   1        send_cmd(0x25);//set (Rb/Ra) 
 373   1        send_cmd(0xa2);//bias set:1/9 
 374   1        send_cmd(0x81);//vo output voltage set 
 375   1        send_cmd(0x10);   //0~63
 376   1        send_cmd(0xf8),//booster ratio set
 377   1        send_cmd(0x00),//booster ratio:4x
 378   1        send_cmd(0x2c);//升压步聚1 
 379   1        send_cmd(0x2e);//升压步聚2 
 380   1        send_cmd(0x2f);//升压步聚3
 381   1        send_cmd(0x40); //起始行：第一行开始 
 382   1      //  send_cmd(0xe0);   
 383   1      
 384   1        send_cmd(0xaf);//开显示
 385   1      } 
 386          //..........显示点阵.......... 
 387          
 388          void fill(uchar onoff) 
 389          { 
 390   1        uchar i,j;    
 391   1        for(i=0;i<8;i++) 
 392   1        { 
 393   2          set_page_address(i);      
 394   2          set_column_address(0x00);     
 395   2          for(j=0;j<128;j++) 
 396   2          { 
 397   3            send_data(onoff);       
 398   3      
 399   3          } 
 400   2        } 
 401   1      } 
 402          
 403          //..........显示图形.......... 
 404          void disp_graphics(uchar code *gph) 
 405          { 
 406   1        uchar i,j;    
 407   1        for(i=0;i<8;i++) 
 408   1        { 
 409   2          set_page_address(i);      
 410   2          set_column_address(0);      
 411   2          for(j=0;j<128;j++) 
 412   2          { 
 413   3      //      send_data(*(gph+i*128+j)); 
 414   3            send_data(*gph++); 
 415   3          } 
 416   2        } 
 417   1      } 
 418          //..........主程序.......... 
 419          void main(void) 
 420          { 
 421   1        lcm_init(); 
 422   1        BL = 0;
 423   1        while(1) 
 424   1      {   
 425   2      
C51 COMPILER V9.57.0.0   LCD12864_215Z                                                     12/26/2020 00:26:37 PAGE 8   

 426   2      //    disp_graphics(nihao);
 427   2      //delay_n_ms(10);       //waitkey();  
 428   2      //    disp_graphics(tab2);
 429   2      //delay_n_ms(10);        //waitkey(); 
 430   2      //    fill(0xff); 
 431   2      //delay_n_ms(10);        //waitkey();
 432   2      //    fill(0x00); 
 433   2      delay_n_ms(10);        //waitkey();
 434   2          display_graphic_16x16(1,8,jin);
 435   2      delay_n_ms(100); 
 436   2          display_graphic_16x16(1,(8+16),yi);
 437   2      delay_n_ms(01); 
 438   2          display_graphic_16x16(1,(8+16*2),chen);
 439   2      delay_n_ms(01); 
 440   2          display_graphic_16x16(1,(8+16*3),dian);
 441   2      delay_n_ms(01); 
 442   2          display_graphic_16x16(1,(8+16*4),zi);
 443   2      delay_n_ms(01); 
 444   2          display_graphic_16x16(1,(8+16*5),ke);
 445   2      delay_n_ms(01); 
 446   2          display_graphic_16x16(1,(8+16*6),ji);
 447   2      delay_n_ms(01); 
 448   2      //    display_graphic_16x16(1,8,huan);
 449   2      //delay_n_ms(01); 
 450   2      //    display_graphic_16x16(1,(8+16),ying);
 451   2      //delay_n_ms(01); 
 452   2      //    display_graphic_16x16(1,(8+16*2),ni);
 453   2      //delay_n_ms(01); 
 454   2      //    display_graphic_16x16(1,(8+16*3),gangtan);
 455   2      delay_n_ms(05);        //waitkey();
 456   2      
 457   2        } 
 458   1      } 
 459          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    446    ----
   CONSTANT SIZE    =   2400    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
